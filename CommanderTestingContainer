FROM alpine:3.10

RUN apk add --update bash ca-certificates openjdk8 openjdk8-jre-base nss git "gradle=5.4.1-r0" && \
    rm -rf /var/cache/apk/*

RUN git clone --single-branch --branch 129-create-file-copy-gradle-tasks-for-automated-testing https://github.com/RESOStandards/web-api-commander.git

WORKDIR web-api-commander

ADD runCommander.sh /usr/local/bin/runCommander.sh

RUN ["chmod", "+x", "/usr/local/bin/runCommander.sh"]

ENTRYPOINT ["/usr/local/bin/runCommander.sh"]
CMD ["certificationCommand", "certificationRequestId"]
